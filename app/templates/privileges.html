{% extends "base.html" %}
{% block title %}ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù…ØªÙŠØ§Ø²Ø§Øª{% endblock %}

{% block content %}
<div class="container mt-4 text-end" dir="rtl">
    <h2 class="mb-4">ØªÙØ¹ÙŠÙ„ Ø§Ù…ØªÙŠØ§Ø² Ø§Ù„Ø¬ÙˆÙƒØ± Ø£Ùˆ Ø§Ù„Ù‡Ø§Ù†ØªØ±</h2>

    {% if not can_jocker and not can_hunter %}
        <div class="alert alert-info">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø£ÙŠ Ø§Ù…ØªÙŠØ§Ø² Ù…ØªØ§Ø­ Ø­Ø§Ù„ÙŠØ§Ù‹.</div>
    {% endif %}

    {% for match in matches %}
    <div class="card mb-3">
        <div class="card-header">
            <strong>{{ match.team1 }} ğŸ†š {{ match.team2 }}</strong> â€” {{ match.stage }}
        </div>
        <div class="card-body">
            <p><strong>ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©:</strong> {{ match.date_time.strftime('%Y-%m-%d %H:%M') }}</p>

            <form action="{{ url_for('user.apply_privilege') }}" method="POST" class="d-flex flex-wrap gap-3">
                <input type="hidden" name="match_id" value="{{ match.id }}">

                {% if can_jocker %}
                    <button name="privilege" value="jocker" class="btn btn-warning"
                            {% if match.is_jocker %}disabled{% endif %}>
                        â­ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¬ÙˆÙƒØ±
                    </button>
                {% endif %}

                {% if can_hunter %}
                    <button name="privilege" value="hunter" class="btn btn-dark"
                            {% if match.is_hunter %}disabled{% endif %}>
                        ğŸ¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‡Ø§Ù†ØªØ±
                    </button>
                {% endif %}

                {% if match.is_jocker %}
                    <span class="badge bg-warning text-dark">Ø§Ù„Ø¬ÙˆÙƒØ± Ù…ÙØ³ØªØ®Ø¯Ù…</span>
                {% endif %}
                {% if match.is_hunter %}
                    <span class="badge bg-secondary">Ø§Ù„Ù‡Ø§Ù†ØªØ± Ù…ÙØ³ØªØ®Ø¯Ù…</span>
                {% endif %}
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
